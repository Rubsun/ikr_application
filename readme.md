# ИКР-проект группы 2022

## Пояснения к архитектуре
- Слои
    - **ui** - слой логики отображения данных
    - **domain** - слой рабочей логики приложения
    - **data** - слоя для получения "сырых" данных или dto от внешнего API или из DB
    - Каждый слой знает только про тот слой, который находится ниже
- ***Repository** - класс для прелдоставления данных в сыром виде (полученные от API или полученные из базы данных)
- ***UseCase** - класс для преобразования данных, полученных из Repository-ев, к данным domain слоя
- ***ViewModel** - класс для преобразования данных, полученных из UseCase-ов, к данным ui слоя

## Требования к проекту
- Создать свой "пакет" и добавить туда три подпакета:
    - **data**, **domain**, **ui**
- В своем пакете, в data, создать **Repository** который пока будет генерить фэйковые данные
- В своем пакете, в domain, создать несколько **UseCase** которе должны будут из Repository брать данные и преобразовывать к обычным данным
- В своем пакете, в ui, создать **Fragment**:
    - Добавить на него **ViewModel**, который будет получать данные из UseCase-ов
    - Добавить в него верстку (можно Compose, можно xml), которая отображает данные из ViewModel
    - Настроить маппинг данных от ViewModel к верстке
- При создании верстки - учесть темы и стили

** Добавить до 16.12.2025**
- Убрать использование LiveData! Не использовать LiveData!
- Получать данные на фрагмент при помощи Flow!
- Получать данные на фрагмент в виде State-объекта, из которого данные должны будут мапиться в отображение
- Добавить в верстку элемент, который позволит изменять состояние данных. И сделать на фрагменте его обработку:
    - Как пример - поисковая строка, которая будет аффектить на то, как фильтруются данные
    - Как пример - сделать блок, через которые можно будет добавить данные в репозиторий, а ViewModel вернет эти данные в список
    - После изменения данных - команда отправляется в ViewModel и через UseCase они или добавляются в репозиторий, либо используются как фильтр
- Добавить использование внешней библиотеки
    - Как пример - библиотека, которая грузит данные
    - Как пример - библиотека, которая помогает отобразить картинки
    - Как пример - библиотека, которая рисует графики
    - Все библиотеки должны добавляться при помощи гредл-каталога!
    - Если добавляете использование какого-то внешнего API с tokenom - нельзя его токен сохранять в коде, надо добавить инструкцию в этот readme, как получить токен (что бы я мог проверить:)
- Если делаются какие-то тяжелые операции - то при помощи suspend и Dispatcher переводить эту работу в IO или Default потоки
- Изменения в main добавлть через PullRequest!

## Полезные ссылки
- **Presentation Domain Data Layering** - https://martinfowler.com/bliki/PresentationDomainDataLayering.html
- **Asynchronous Flow** - https://kotlinlang.org/docs/flow.html

<div align="center"><img src="subo.gif" width="360"></div>
<div align="center"><img src="oooo_fernando_alooooonsoo.gif" width="360"></div>

## Экран Dyatlova
- Новый пакет `dyatlova` содержит слои `data/domain/ui` с фейковым репозиторием, UseCase-ами и фрагментом.
- Фрагмент использует `Flow`/`StateFlow` для загрузки и отображения состояния, без LiveData.
- Вёрстка включает поиск по списку направлений и форму добавления нового элемента — изменения идут через ViewModel и UseCase-ы.
- Картинки загружаются через внешнюю библиотеку Coil, подключённую через gradle catalog (`libs.coil`).
